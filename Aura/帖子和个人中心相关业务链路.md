# 帖子和个人中心相关业务链路设计文档

## 📋 涉及文件清单

### 🎯 帖子相关文件
1. **FeedFragment.java** - 帖子列表显示碎片
2. **CreateFragment.java** - 创建帖子碎片
3. **PostDetailActivity.java** - 帖子详情活动
4. **PostAdapter.java** - 帖子适配器
5. **BookmarksFragment.java** - 书签帖子碎片
6. **MyPostsFragment.java** - 我的帖子碎片
7. **CommentsAdapter.java** - 评论适配器
8. **FeedViewModel.java** - 帖子视图模型
9. **AppRepository.java** - 数据仓库（帖子数据）
10. **Post.java** - 帖子数据模型
11. **MainActivity.java** - 主导航（帖子相关导航）

### 👤 个人中心相关文件
1. **ProfileFragment.java** - 个人中心碎片
2. **ProfilePagerAdapter.java** - 个人中心分页适配器
3. **UserProfile.java** - 用户档案模型
4. **MainActivity.java** - 主导航（个人中心导航）

### 🌐 网络和认证相关文件
1. **AuthManager.java** - 认证管理器
2. **AuraRepository.java** - API仓库层
3. **ApiService.java** - API接口定义
4. **UserProfileResponse.java** - 用户档案响应模型
5. **UserProfileUpdateRequest.java** - 用户档案更新请求模型

---

## 🔗 帖子业务链路分析

## 🔗 帖子业务链路分析

### 1. 📱 帖子列表展示链路
**涉及文件：** `FeedFragment.java`, `PostAdapter.java`, `FeedViewModel.java`, `AppRepository.java`, `Post.java`

-当前链路交互逻辑：用户进入Posts导航页 → FeedFragment加载帖子列表 → 调用假数据获取帖子数据 → 渲染帖子列表（前5个帖子显示实际图片） → 支持分页加载

-期望最终链路交互逻辑：用户进入Posts导航页 → FeedFragment加载帖子列表 → 调用假数据获取帖子数据 → 渲染帖子列表（前5个帖子显示实际图片） → 支持分页加载

-优化建议：各个展示页（所有当前已有的，涉及到Feed流的页面一并改，比如feed，searchResults，收藏bookMarks）：
a. 支持下拉刷新，和拉到底部再上拉加载更多；b.增加假帖子数据，分成四组，每组10个，这40个中，要有10个的文字中含有一个或多个以下关键词："fitness"，"diet"，"recipe"，"outcome"中的，剩下30个就写一些常规的健康软件的帖子内容；c. 首次加载的帖子数量最多为10次，底部上拉再加入10个。下拉刷新重置为random的另外10个（不是展示20个，而是10个）；d. 前5个帖子已集成实际图片（img1.png到img5.png），显示在帖子卡片中。

-链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）
```java
@GET("posts")
Call<ApiResponse<PostListResponse>> getPosts(
    @Query("page") Integer page,
    @Query("size") Integer size,
    @Query("sort") String sort  // "latest", "popular", "following"
);
```

### 2. ✏️ 帖子创建链路
**涉及文件：** `CreateFragment.java`, `FeedViewModel.java`, `AppRepository.java`

-当前链路交互逻辑；用户点击New Post按钮 → 进入创建帖子界面 → 简单填写标题、内容、标签 → 选择图片 → 调用API创建帖子 → 返回首页刷新列表

-期望最终链路交互逻辑：用户点击New Post按钮 → 进入创建帖子界面 → 实时验证标题（5-20个单词）、正文（不少于5个单词） → 智能标签系统（至少选择一个预定义标签："fitness"、"diet"、"recipe"、"plan"、"outcome"） → 优雅图片上传（加号选择器，支持相册/拍照，200x200缩略图预览） → 自动草稿保存 → 一键发布 → 返回首页刷新列表并显示新发布的帖子

-根据现代化相关模块的前端设计（上网搜）给出优化建议；- 界面设计：Material Design 3风格，底部保持导航栏不变，顶部操作栏，中间内容区域采用卡片式设计，渐变背景营造专业感；- 表单验证：实时校验系统，标题输入时显示字数计数器（5-20词），正文输入时显示字符计数器（至少5词），标签选择时至少要求选择一个，未满足条件时禁用发布按钮（一个按钮即可，不要同时有按钮和publish）；- 标签系统：预定义5个健康主题标签，采用圆形Chip组件设计，支持多选，选中状态高亮显示（主色调绿色），下方显示选中标签数量和内容，点击标签可快速取消选择；- 图片上传：顶部操作栏右侧加号图标，点击进入图片选择器（底部弹窗样式），支持相册选择和拍照两种模式，选择图片后自动压缩为200x200像素的正方形缩略图显示在内容区域，支持删除重选；- 草稿功能：自动保存草稿，应用重启后可恢复编辑状态，支持手动清空草稿；- 发布：点击发布按钮后跳转到posts页面展示posts列表，新发布的帖子显示在列表顶部

-当前实现状态：✅ 界面设计已实现（Material Design 3风格，卡片式布局，渐变背景）；✅ 表单验证已实现（实时校验，字数计数器，按钮状态控制）；✅ 标签系统已实现（5个预定义标签，Chip组件，多选支持）；✅ 图片上传已实现（相册选择、拍照、200x200压缩、预览显示）；✅ 草稿功能已实现（自动保存、恢复编辑状态）；✅ 发布功能已实现（跳转首页，新帖子置顶显示）

-可能依赖或关联的链路编号；2.1（草稿保存）、6.1（我的帖子管理）、1.1（帖子列表展示）、3.1（帖子详情查看）

-链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）
```java
@POST("posts")
@Multipart
Call<ApiResponse<PostDto>> createPost(
    @Part MultipartBody.Part image,  // 可选，压缩后的200x200正方形图片
    @Part("title") RequestBody title,  // 5-20个单词，必填
    @Part("content") RequestBody content,  // 不少于5个单词，必填
    @Part("tags") RequestBody tags,  // JSON数组，至少包含一个标签
    @Part("visibility") RequestBody visibility  // "public", "friends", "private"
);

@POST("posts/draft")
@Multipart
Call<ApiResponse<PostDraftDto>> saveDraft(
    @Part MultipartBody.Part image,  // 可选，临时图片文件
    @Part("title") RequestBody title,
    @Part("content") RequestBody content,
    @Part("tags") RequestBody tags,
    @Part("isTemp") RequestBody isTemp  // true表示临时草稿
);

@GET("posts/draft/{draftId}")
Call<ApiResponse<PostDraftDto>> getDraft(@Path("draftId") String draftId);

@DELETE("posts/draft/{draftId}")
Call<ApiResponse<Void>> deleteDraft(@Path("draftId") String draftId);
```

### 3. 👁️ 帖子详情查看链路
**涉及文件：** `PostDetailActivity.java`, `CommentsAdapter.java`, `PostAdapter.java`

-当前链路交互逻辑；用户点击帖子 → 进入详情页 → 显示完整内容和评论 → 支持互动操作 → 实时更新互动状态

-期望最终链路交互逻辑（复制当前的，等我改即可）；用户点击帖子 → 进入详情页 → 显示完整内容和评论 → 支持互动操作 → 实时更新互动状态

-根据现代化相关模块的前端设计（上网搜）给出优化建议；- 评论实时更新；- 支持评论回复和@提及；- 图片查看器支持缩放；- 分享功能集成；- 阅读进度保存

-可能依赖或关联的链路编号；3.1, 3.2, 4.3

-链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）
```java
@GET("posts/{id}")
Call<ApiResponse<PostDetailResponse>> getPostDetail(
    @Path("id") String postId
);
```

### 4. 💬 帖子互动链路（点赞、收藏、评论）
**涉及文件：** `PostDetailActivity.java`, `PostAdapter.java`, `CommentsAdapter.java`, `FeedViewModel.java`

-当前链路交互逻辑；用户执行互动操作 → 前端立即更新UI → 调用API同步到服务器 → 处理冲突和错误情况

-期望最终链路交互逻辑（复制当前的，等我改即可）；用户执行互动操作 → 前端立即更新UI → 调用API同步到服务器 → 处理冲突和错误情况

-根据现代化相关模块的前端设计（上网搜）给出优化建议；- 点赞动画效果；- 评论表情支持；- 批量操作功能；- 互动历史记录；- 防重复点击机制

-可能依赖或关联的链路编号；1.1, 3.1, 5.1

-链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）
```java
@POST("posts/{id}/like")
Call<ApiResponse<Void>> toggleLike(@Path("id") String postId);
```

### 5. 🔖 帖子书签管理链路
**涉及文件：** `BookmarksFragment.java`, `PostAdapter.java`, `FeedViewModel.java`

-当前链路交互逻辑；用户进入书签页面 → 显示所有收藏的帖子 → 支持取消收藏 → 支持批量操作

-期望最终链路交互逻辑（复制当前的，等我改即可）；用户进入书签页面 → 显示所有收藏的帖子 → 支持取消收藏 → 支持批量操作

-根据现代化相关模块的前端设计（上网搜）给出优化建议；- 书签分类管理；- 批量导出功能；- 书签搜索功能；- 收藏夹分享；- 云端同步

-可能依赖或关联的链路编号；1.1, 4.1

-链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）
```java
@GET("users/me/bookmarks")
Call<ApiResponse<PostListResponse>> getBookmarkedPosts(
    @Query("page") Integer page,
    @Query("size") Integer size
);
```

### 6. 📝 我的帖子管理链路
**涉及文件：** `MyPostsFragment.java`, `PostAdapter.java`, `FeedViewModel.java`

-当前链路交互逻辑；用户进入我的帖子页面 → 显示自己发布的所有帖子 → 支持编辑、删除、查看统计

-期望最终链路交互逻辑（复制当前的，等我改即可）；用户进入我的帖子页面 → 显示自己发布的所有帖子 → 支持编辑、删除、查看统计

-根据现代化相关模块的前端设计（上网搜）给出优化建议；- 帖子数据统计；- 草稿箱管理；- 发布历史分析；- 互动数据展示；- 内容管理工具

-可能依赖或关联的链路编号；2.1, 1.1

-链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）
```java
@GET("users/me/posts")
Call<ApiResponse<PostListResponse>> getMyPosts(
    @Query("page") Integer page,
    @Query("size") Integer size,
    @Query("status") String status  // "published", "draft", "all"
);
```

### 7. 🔍 帖子搜索链路
**涉及文件：** `SearchFragment.java`, `SearchActivity.java`, `SearchResultsActivity.java`, `FeedViewModel.java`, `PostAdapter.java`

-当前链路交互逻辑；用户进入搜索页面 → 选择热门搜索词或输入搜索内容 → 点击搜索 → 跳转到搜索结果页面 → 显示匹配的帖子列表（支持上拉加载更多，无下拉刷新）

-期望最终链路交互逻辑（复制当前的，等我改即可）；用户进入搜索页面 → 选择热门搜索词或输入搜索内容 → 点击搜索 → 跳转到搜索结果页面 → 显示匹配的帖子列表（支持上拉加载更多，无下拉刷新）

-根据现代化相关模块的前端设计（上网搜）给出优化建议；- 实时搜索建议；- 搜索结果智能排序；- 搜索历史管理；- 语音搜索支持；- 搜索过滤选项（时间、热度、类型）

-可能依赖或关联的链路编号；1.1, 3.1, 4.1

-链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）
```java
@GET("posts/search")
Call<ApiResponse<PostListResponse>> searchPosts(
    @Query("q") String query,
    @Query("page") Integer page,
    @Query("size") Integer size,
    @Query("sort") String sort,  // "relevance", "latest", "popular"
    @Query("filter") String filter  // "all", "title", "content", "tags"
);
```

---


## 👤 个人中心业务链路分析

### 1. 👤 个人资料查看链路
**涉及文件：** `ProfileFragment.java`, `ProfilePagerAdapter.java`, `UserProfile.java`

-当前链路交互逻辑；用户进入个人中心 → 显示个人资料信息 → 支持查看详细统计 → 支持切换不同页面

-期望最终链路交互逻辑（复制当前的，等我改即可）；用户进入个人中心 → 显示个人资料信息 → 支持查看详细统计 → 支持切换不同页面

-根据现代化相关模块的前端设计（上网搜）给出优化建议；- 动态背景和头像；- 个人信息卡片设计；- 统计数据可视化；- 主题切换功能；- 隐私设置入口

-可能依赖或关联的链路编号；1.2, 2.1

-链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）
```java
@GET("users/me/profile")
Call<ApiResponse<UserProfileResponse>> getMyProfile();
```

### 2. ✏️ 个人资料编辑链路
**涉及文件：** `ProfileFragment.java`, `UserProfile.java`

-当前链路交互逻辑；用户点击编辑按钮 → 进入编辑界面 → 修改个人信息 → 上传头像/封面 → 调用API保存 → 返回刷新显示

-期望最终链路交互逻辑（复制当前的，等我改即可）；用户点击编辑按钮 → 进入编辑界面 → 修改个人信息 → 上传头像/封面 → 调用API保存 → 返回刷新显示

-根据现代化相关模块的前端设计（上网搜）给出优化建议；- 实时头像裁剪；- 多平台头像同步；- 隐私设置控制；- 个人标签管理；- 兴趣爱好选择

-可能依赖或关联的链路编号；1.1, 2.1

-链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）
```java
@PATCH("users/me/profile")
Call<ApiResponse<UserProfileResponse>> updateProfile(
    @Body UserProfileUpdateRequest request
);


---

## 🔗 模块间交互链路分析

基于项目整体架构，以下是帖子和个人中心模块与其他模块（record、run等）之间的交互链路，按相关性从高到低排列：

### 1. 📱 帖子与个人中心交互链路
**相关性：极高** - 用户在浏览帖子时可能需要查看发帖人的个人资料

**涉及文件：** `FeedFragment.java`, `PostDetailActivity.java`, `ProfileFragment.java`

**当前链路交互逻辑：**
```
帖子列表 → 点击头像 → 跳转到用户个人中心 → 显示用户资料和帖子
```

**期望最终链路交互逻辑（复制当前的，等我改即可）：**
```
帖子列表 → 点击头像 → 跳转到用户个人中心 → 显示用户资料和帖子
```

**根据现代化相关模块的前端设计（上网搜）给出优化建议：**
- 添加用户信息悬浮卡片：点击头像时显示用户基本信息，无需跳转
- 社交功能增强：关注/取消关注按钮，私信入口
- 个性化推荐：基于互动历史推荐相关帖子

**可能依赖或关联的链路编号：** 1.1, 2.1, 3.1

**链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）：**
```java
// 获取用户信息（轻量级）
@GET("users/{userId}/brief")
Call<ApiResponse<UserBriefDto>> getUserBrief(@Path("userId") String userId);

// 关注用户
@POST("users/{userId}/follow")
Call<ApiResponse<Void>> followUser(@Path("userId") String userId);

// 取消关注
@DELETE("users/{userId}/follow")
Call<ApiResponse<Void>> unfollowUser(@Path("userId") String userId);

// 获取关注状态
@GET("users/{userId}/follow-status")
Call<ApiResponse<FollowStatusDto>> getFollowStatus(@Path("userId") String userId);
```

### 2. 💬 帖子评论与个人中心交互链路
**相关性：高** - 评论作者可能需要查看个人资料

**涉及文件：** `PostDetailActivity.java`, `CommentsAdapter.java`, `ProfileFragment.java`

**当前链路交互逻辑：**
```
帖子详情 → 评论列表 → 点击评论头像 → 跳转到评论者个人中心
```

**期望最终链路交互逻辑（复制当前的，等我改即可）：**
```
帖子详情 → 评论列表 → 点击评论头像 → 跳转到评论者个人中心
```

**根据现代化相关模块的前端设计（上网搜）给出优化建议：**
- 评论区优化：支持表情回复，@提及功能，评论点赞
- 实时互动：评论实时更新，通知提醒
- 社交增强：评论作者标签显示，热门评论置顶

**可能依赖或关联的链路编号：** 3.1, 3.2, 4.3

**链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）：**
```java
// 评论点赞
@POST("posts/{postId}/comments/{commentId}/like")
Call<ApiResponse<Void>> likeComment(
    @Path("postId") String postId,
    @Path("commentId") String commentId
);

// 获取评论详情（含互动状态）
@GET("posts/{postId}/comments/{commentId}")
Call<ApiResponse<CommentDetailDto>> getCommentDetail(
    @Path("postId") String postId,
    @Path("commentId") String commentId
);
```

### 3. 📝 帖子创建与个人中心交互链路
**相关性：高** - 创建帖子时需要用户信息和头像

**涉及文件：** `CreateFragment.java`, `ProfileFragment.java`, `UserProfile.java`

**当前链路交互逻辑：**
```
创建帖子 → 显示用户头像和昵称 → 发布成功后刷新个人中心数据
```

**期望最终链路交互逻辑（复制当前的，等我改即可）：**
```
创建帖子 → 显示用户头像和昵称 → 发布成功后刷新个人中心数据
```

**根据现代化相关模块的前端设计（上网搜）给出优化建议：**
- 草稿功能：自动保存草稿，支持单图上传，应用重启后恢复编辑状态
- 发布选项：即时发布，公开范围设置（目前为公开），话题标签选择
- 互动预览：发布前预览效果，支持图片预览和标签显示

**可能依赖或关联的链路编号：** 2.1（草稿保存）、6.1（我的帖子管理）、1.1（帖子列表展示）

**链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）：**
```java
// 保存草稿
@POST("posts/draft")
Call<ApiResponse<PostDraftDto>> saveDraft(@Body PostDraftRequest request);

// 获取草稿列表
@GET("users/me/drafts")
Call<ApiResponse<PostDraftListResponse>> getDrafts();

// 删除草稿
@DELETE("posts/draft/{draftId}")
Call<ApiResponse<Void>> deleteDraft(@Path("draftId") String draftId);
```

### 4. ⚖️ 体重记录与个人中心交互链路
**相关性：中** - 体重变化可能影响个人资料展示

**涉及文件：** `RecordFragment.java`, `WeightTrendActivity.java`, `ProfileFragment.java`

**当前链路交互逻辑：**
```
个人中心 → 查看体重趋势 → 跳转到体重记录页面 → 更新体重后刷新个人中心
```

**期望最终链路交互逻辑（复制当前的，等我改即可）：**
```
个人中心 → 查看体重趋势 → 跳转到体重记录页面 → 更新体重后刷新个人中心
```

**根据现代化相关模块的前端设计（上网搜）给出优化建议：**
- 数据可视化：体重趋势图表，BMI计算器，健康建议
- 社交功能：体重打卡分享，挑战活动
- 智能提醒：体重异常提醒，饮食建议

**可能依赖或关联的链路编号：** 1.2, 2.1

**链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）：**
```java
// 获取体重趋势数据
@GET("users/me/weight-trend")
Call<ApiResponse<WeightTrendResponse>> getWeightTrend(
    @Query("days") Integer days
);

// 计算BMI和健康建议
@GET("users/me/health-analysis")
Call<ApiResponse<HealthAnalysisResponse>> getHealthAnalysis();
```

### 5. 💧 水摄入记录与个人中心交互链路
**相关性：中** - 饮水习惯可能作为个人资料的一部分展示

**涉及文件：** `RecordFragment.java`, `WaterIntakeActivity.java`, `ProfileFragment.java`

**当前链路交互逻辑：**
```
首页记录 → 水摄入卡片 → 跳转到水摄入详情 → 记录完成后可能影响个人统计
```

**期望最终链路交互逻辑（复制当前的，等我改即可）：**
```
首页记录 → 水摄入卡片 → 跳转到水摄入详情 → 记录完成后可能影响个人统计
```

**根据现代化相关模块的前端设计（上网搜）给出优化建议：**
- 饮水提醒：智能饮水提醒，饮水目标设定
- 数据统计：饮水趋势分析，日均摄入量
- 社交功能：饮水挑战，朋友圈分享

**可能依赖或关联的链路编号：** 1.2

**链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）：**
```java
// 设置饮水目标
@POST("users/me/water-goal")
Call<ApiResponse<Void>> setWaterGoal(@Body WaterGoalRequest request);

// 获取饮水统计
@GET("users/me/water-stats")
Call<ApiResponse<WaterStatsResponse>> getWaterStats(
    @Query("startDate") String startDate,
    @Query("endDate") String endDate
);
```

### 6. 🍽️ 饮食记录与帖子交互链路
**相关性：中** - 用户可能分享饮食经验到社区

**涉及文件：** `RecordFragment.java`, `FeedFragment.java`, `CreateFragment.java`

**当前链路交互逻辑：**
```
饮食记录 → 可能分享到社区 → 创建饮食相关帖子 → 展示在社区动态中
```

**期望最终链路交互逻辑（复制当前的，等我改即可）：**
```
饮食记录 → 可能分享到社区 → 创建饮食相关帖子 → 展示在社区动态中
```

**根据现代化相关模块的前端设计（上网搜）给出优化建议：**
- 饮食日记：拍照识别食物，营养分析
- 社区互动：饮食经验分享，菜谱推荐
- 社交功能：饮食挑战，营养师咨询

**可能依赖或关联的链路编号：** 2.1, 1.1

**链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）：**
```java
// 食物识别
@POST("foods/recognize")
@Multipart
Call<ApiResponse<FoodRecognitionResponse>> recognizeFood(
    @Part MultipartBody.Part image
);

// 获取营养建议
@GET("foods/{foodId}/nutrition")
Call<ApiResponse<NutritionInfoDto>> getNutritionInfo(@Path("foodId") String foodId);
```

### 7. 🏃 运动记录与帖子交互链路
**相关性：中** - 用户可能分享运动成果到社区

**涉及文件：** `RecordFragment.java`, `RunHubActivity.java`, `FeedFragment.java`

**当前链路交互逻辑：**
```
运动记录 → 完成跑步 → 可能分享到社区 → 创建运动相关帖子
```

**期望最终链路交互逻辑（复制当前的，等我改即可）：**
```
运动记录 → 完成跑步 → 可能分享到社区 → 创建运动相关帖子
```

**根据现代化相关模块的前端设计（上网搜）给出优化建议：**
- 运动轨迹：GPS轨迹记录，配速分析
- 社区挑战：跑步打卡，排行榜
- 社交功能：运动分享，约跑功能

**可能依赖或关联的链路编号：** 2.1, 1.1

**链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）：**
```java
// 分享运动成果
@POST("posts/share-workout")
Call<ApiResponse<PostDto>> shareWorkout(@Body WorkoutShareRequest request);

// 获取运动排行榜
@GET("leaderboards/running")
Call<ApiResponse<RunningLeaderboardResponse>> getRunningLeaderboard(
    @Query("period") String period  // "weekly", "monthly", "all"
);
```

### 8. 🔍 搜索与帖子交互链路
**相关性：高** - 搜索功能的核心目的是查找帖子内容

**涉及文件：** `SearchFragment.java`, `SearchResultsActivity.java`, `FeedFragment.java`, `PostAdapter.java`

**当前链路交互逻辑：**
```
搜索入口 → 输入搜索词 → 搜索结果页面 → 显示匹配的帖子 → 支持帖子互动操作（支持上拉加载更多，无下拉刷新）
```

**期望最终链路交互逻辑（复制当前的，等我改即可）：**
```
搜索入口 → 输入搜索词 → 搜索结果页面 → 显示匹配的帖子 → 支持帖子互动操作（支持上拉加载更多，无下拉刷新）
```

**根据现代化相关模块的前端设计（上网搜）给出优化建议：**
- 智能搜索：搜索词高亮显示，搜索建议，拼音搜索
- 搜索结果增强：搜索结果预览，相关推荐，搜索热度排行
- 搜索体验优化：搜索历史智能排序，搜索快捷入口，语音搜索

**可能依赖或关联的链路编号：** 1.1, 3.1, 7.1

**链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）：**
```java
// 获取搜索建议
@GET("search/suggestions")
Call<ApiResponse<SearchSuggestionsResponse>> getSearchSuggestions(
    @Query("q") String query,
    @Query("limit") Integer limit
);

// 获取热门搜索词
@GET("search/hot-trends")
Call<ApiResponse<HotTrendsResponse>> getHotTrends();

// 记录搜索历史
@POST("search/history")
Call<ApiResponse<Void>> recordSearchHistory(@Body SearchHistoryRequest request);
```

### 9. 📊 统计数据与个人中心交互链路
**相关性：低中** - 个人中心可能展示综合统计数据

**涉及文件：** `ProfileFragment.java`, `RecordFragment.java`, `RunHubActivity.java`

**当前链路交互逻辑：**
```
个人中心 → 查看统计数据 → 从各个模块获取数据 → 汇总展示
```

**期望最终链路交互逻辑（复制当前的，等我改即可）：**
```
个人中心 → 查看统计数据 → 从各个模块获取数据 → 汇总展示
```

**根据现代化相关模块的前端设计（上网搜）给出优化建议：**
- 数据可视化：图表展示各项数据趋势
- 目标设定：健康目标设定和进度跟踪
- 社交对比：与好友数据对比，排名展示

**可能依赖或关联的链路编号：** 1.2, 6.4

**链路和后端集成，给出后端交互API接口建议（开发2.0阶段考虑）：**
```java
// 获取综合统计数据
@GET("users/me/dashboard")
Call<ApiResponse<UserDashboardResponse>> getUserDashboard();

// 设置健康目标
@POST("users/me/goals")
Call<ApiResponse<Void>> setHealthGoals(@Body HealthGoalsRequest request);
---

---

**文档更新日期：** 2025-10-19
**版本：** v1.0
